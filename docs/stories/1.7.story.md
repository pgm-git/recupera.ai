# Story 1.7: DevOps & Compliance

**Epic:** 1 â€” Production Readiness
**Fase:** 4 (DevOps)
**Status:** Draft
**Esforco:** 16h
**Dependencias:** 1.5 (Backend Consolidation)

---

## Descricao

Como equipe, preciso de CI/CD automatizado, monitoring basico e compliance LGPD para operar o sistema em producao com confianca.

## Acceptance Criteria

### CI/CD Pipeline (8h)
- [ ] GitHub Actions workflow para CI
- [ ] Run tests on push/PR
- [ ] Lint check (ESLint)
- [ ] Type check (tsc --noEmit)
- [ ] Build check (vite build)
- [ ] Coverage report upload
- [ ] Branch protection rules documentadas
- [ ] Deploy script (manual ou automatizado para staging)

### Monitoring & Logging (4h)
- [ ] Structured logging no Express (pino ou winston)
- [ ] Request ID em todos os logs
- [ ] Log de erros com stack trace
- [ ] Health check endpoint (/health)
- [ ] Uptime monitoring basico (UptimeRobot ou similar)
- [ ] Error alerting (webhook para Slack/Discord)

### LGPD Compliance Basico (4h)
- [ ] Documentar quais PII sao coletados (nome, email, telefone)
- [ ] Implementar endpoint de exclusao de dados (right to be forgotten)
- [ ] Implementar endpoint de exportacao de dados (data portability)
- [ ] Consent tracking basico (campo em leads)
- [ ] Privacy policy page placeholder
- [ ] Data retention policy definida (soft deletes + TTL)

## Technical Notes

- GitHub Actions e gratuito para repos publicos e tem 2000 min/mes para privados
- pino e mais performatico que winston para Node.js
- LGPD: foco em MVP (documentacao + endpoints basicos), compliance completo e fase futura
- Health check deve verificar: DB connection, Redis connection, app status

## Definition of Done

- [ ] CI pipeline roda automaticamente em PRs
- [ ] Logs estruturados em JSON
- [ ] Health check endpoint funcional
- [ ] Endpoints de exclusao e exportacao de dados implementados
- [ ] Privacy policy page acessivel

## File List

*Atualizado durante implementacao*

---
